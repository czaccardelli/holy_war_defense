join_holy_war_modifier_per_opinion_level = 5

desire_to_join_holy_war = {
    add = 10
    if = {
        limit = {
            scope:joiner = { join_holy_war_dear_to_me_trigger = { CHAR = scope:defender } }
        }
        add = 30
    }
    if = {
        limit = {
            scope:joiner = { join_holy_war_dear_to_me_trigger = { CHAR = scope:attacker } }
        }
        subtract = 20
    }
    if = {
        limit = {
            scope:joiner = { has_strong_religious_conviction_trigger = yes }
        }
        add = 10
    }
    if = {
        limit = {
            scope:joiner = { has_relation_rival = scope:attacker }
        }
        add = 20
    }
    if = {
        limit = {
            scope:joiner = { has_relation_nemesis = scope:attacker }
        }
        add = 40
    }
    if = {
        limit = {
            scope:joiner = { has_relation_rival = scope:defender }
        }
        subtract = 15
    }
    if = {
        limit = {
            scope:joiner = { has_relation_nemesis = scope:defender }
        }
        subtract = 35
    }
    ### OPINION MODIFIERS ###
    ### INTENDED TO STACK FOR EACH LEVEL ###
    # joiner opinion levels of attacker
    if = {
        limit = {
            scope:joiner = {
                opinion = {
                    target = scope:attacker
                    value < very_high_negative_opinion
                }
            }
        }
        add = join_holy_war_modifier_per_opinion_level
    }
    if = {
        limit = {
            scope:joiner = {
                opinion = {
                    target = scope:attacker
                    value < high_negative_opinion
                }
            }
        }
        add = join_holy_war_modifier_per_opinion_level
    }
    if = {
        limit = {
            scope:joiner = {
                opinion = {
                    target = scope:attacker
                    value < medium_negative_opinion
                }
            }
        }
        add = join_holy_war_modifier_per_opinion_level
    }
    if = {
        limit = {
            scope:joiner = {
                opinion = {
                    target = scope:attacker
                    value < low_negative_opinion
                }
            }
        }
        add = join_holy_war_modifier_per_opinion_level
    }
    if = {
        limit = {
            scope:joiner = {
                opinion = {
                    target = scope:attacker
                    value > low_positive_opinion
                }
            }
        }
        subtract = join_holy_war_modifier_per_opinion_level
    }
    if = {
        limit = {
            scope:joiner = {
                opinion = {
                    target = scope:attacker
                    value > medium_positive_opinion
                }
            }
        }
        subtract = join_holy_war_modifier_per_opinion_level
    }
    if = {
        limit = {
            scope:joiner = {
                opinion = {
                    target = scope:attacker
                    value > high_positive_opinion
                }
            }
        }
        subtract = join_holy_war_modifier_per_opinion_level
    }
    if = {
        limit = {
            scope:joiner = {
                opinion = {
                    target = scope:attacker
                    value > very_high_positive_opinion
                }
            }
        }
        subtract = join_holy_war_modifier_per_opinion_level
    }
    # joiner opinion levels of defender
    if = {
        limit = {
            scope:joiner = {
                opinion = {
                    target = scope:defender
                    value < very_high_negative_opinion
                }
            }
        }
        subtract = join_holy_war_modifier_per_opinion_level
    }
    if = {
        limit = {
            scope:joiner = {
                opinion = {
                    target = scope:defender
                    value < high_negative_opinion
                }
            }
        }
        subtract = join_holy_war_modifier_per_opinion_level
    }
    if = {
        limit = {
            scope:joiner = {
                opinion = {
                    target = scope:defender
                    value < medium_negative_opinion
                }
            }
        }
        subtract = join_holy_war_modifier_per_opinion_level
    }
    if = {
        limit = {
            scope:joiner = {
                opinion = {
                    target = scope:defender
                    value < low_negative_opinion
                }
            }
        }
        subtract = join_holy_war_modifier_per_opinion_level
    }
    if = {
        limit = {
            scope:joiner = {
                opinion = {
                    target = scope:defender
                    value > low_positive_opinion
                }
            }
        }
        add = join_holy_war_modifier_per_opinion_level
    }
    if = {
        limit = {
            scope:joiner = {
                opinion = {
                    target = scope:defender
                    value > medium_positive_opinion
                }
            }
        }
        add = join_holy_war_modifier_per_opinion_level
    }
    if = {
        limit = {
            scope:joiner = {
                opinion = {
                    target = scope:defender
                    value > high_positive_opinion
                }
            }
        }
        add = join_holy_war_modifier_per_opinion_level
    }
    if = {
        limit = {
            scope:joiner = {
                opinion = {
                    target = scope:defender
                    value > very_high_positive_opinion
                }
            }
        }
        add = join_holy_war_modifier_per_opinion_level
    }
    
}